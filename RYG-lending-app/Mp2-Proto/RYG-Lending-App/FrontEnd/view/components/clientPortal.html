<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../bootstrap/css/bootstrap.min.css">
    <link rel="stylesheet" href="../global.css">
    <link rel="stylesheet" href="../componentsCSS/clientPortal.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <link rel="stylesheet" href="../fontawesome-free-6.4.2-web/css/all.css">
    <title>RYG Finance</title>
    <link rel="icon" href="images/rygicon-removebg-preview.png" type="image/x-icon">
</head>
<body>
    <div class="wrapper">
        <div class="container-fluid">
            <div class="row">
                <div class="sidebar col-lg-2 min-vh-100 d-flex flex-column justify-content-between" style="background-color: #00307d;">
                    <div class="mt-4" id="sideNavbar">
                        <a class="d-flex text-decoration-none mt-1 align-items-center text-white">
                            <img src="images/rygv3-removebg-preview.png" style="width: 250px; height: 60px;">
                        </a>
                        <hr class="text-white"/>
                        <ul class="nav nav-pills flex-column mt-4">
                            <li class="nav-item py-2 py-sm-0">
                                <a class="nav-link text-white" href="../components/dashboard.html">
                                    <i class="fa-solid fa-gauge fa-lg"></i><span class="fs-4 ms-3 d-none d-sm-inline text">Dashboard</span>
                                </a>
                            </li>
                            <li class="nav-item py-2 py-sm-0">
                                <a class="nav-link text-white" href="../components/collectors.html">
                                    <i class="fa-solid fa-users fa-lg"></i><span class="fs-4 ms-3 d-none d-sm-inline text">Collectors</span>
                                </a>
                            </li>
                            <li class="nav-item py-2 py-sm-0">
                                <a class="nav-link text-white active" href="../components/clientPortal.html">
                                    <i class="fa-regular fa-file fa-lg"></i><span class="fs-4 ms-3 d-none d-sm-inline text">Client Portal</span>
                                </a>
                            </li>
                            <li class="nav-item py-2 py-sm-0">
                                <a class="nav-link text-white" href="../components/forApproval.html">
                                    <i class="fa-regular fa-folder-open fa-lg"></i><span class="fs-4 ms-3 d-none d-sm-inline text">For Approval</span>
                                </a>
                            </li>
                            <li class="nav-item py-2 py-sm-0">
                                <a class="nav-link text-white" href="../components/reports.html">
                                    <i class="fa fa-folder-open"></i><span class="fs-4 ms-3 d-none d-sm-inline text">Reports</span>
                                </a>
                            </li>
                            <li class="nav-item py-2 py-sm-0">
                                <a id="logoutTab" class="nav-link text-white" data-bs-toggle="modal" data-bs-target="#confirmLogoutModal">
                                    <i class="fa-solid fa-right-from-bracket fa-lg"></i><span class="fs-4 ms-3 d-none d-sm-inline text">Logout</span>
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
                
                <div class="left-content col-lg-10">
                    <div class="tab-content col-12" id="tab-content">
                        <div id="emp1" class="tab-pane mt-3 fade show active">
                            <div class="row d-flex justify-content-center align-items-center">
                              <div class="col-7">
                                <h1 style="color: #00307d">Clients Registry <i class="fa-solid fa-users-line fa-sm"></i></h1>
                              </div>
                              <div class="col-3">
                                <div class="form-group justify-content-center align-items-center d-flex mt-3">
                                  <i class="bx bx-search-alt" style="font-size: 30px;"></i><input id="client-search" type="text" class="search form-control" placeholder="Search..">
                                </div>
                              </div>
                              <div class="col-2">
                                <div class="d-flex justify-content-center align-items-center mt-3" style="margin-right: 70px;">
                                    <button id="new-client-btn" class="btn" data-bs-toggle="modal" data-bs-target="#newClientModal">New Client</button>
                                </div>
                              </div>
                            </div>
                            <hr/>
                            <div class="row d-flex justify-content-center align-items-center" id="client-content">
                                <div class="col-lg-10">
                                    <table class="table mt-2 table-hover results" id="listClients">
                                        <thead>
                                            <tr>
                                                <th scope="col">Account Number</th>
                                                <th scope="col">Full Name</th>
                                                <th scope="col">Loan Type</th>
                                                <th scope="col">Location</th>
                                            </tr>
                                        </thead>
                                        <tbody id="clientPortalTable" class="visible-results hidden"></tbody>
                                        <span class="counter pull-right"></span>
                                    </table>
                                </div>
                                <hr/>
                            </div>
                            <div class="row justify-content-center align-items-center">
                                <!-- Client Profile -->
                                <div class="col-lg-10 card p-3 d-flex flex-row justify-content-center" id="clientDisplayInfo">
                                    <div class="col-md-9 d-flex flex-column" id="clientProfileContainer">
                                        <div class="d-flex flex-row" id="clientUpper-Info" style="width: 100%; height: 40%;"></div>
                                        <div id="clientMiddle-Info"></div>
                                        <div class="lower-client d-flex align-items-center justify-content-between" id="clientLower-Info">
                                            <button class="btn client-btn" data-bs-toggle="modal" data-bs-target="#paymentBtnModal">Make Payment</button>
                                            <button class="btn client-btn" data-bs-toggle="modal" data-bs-target="#renewLoanBtnModal">Renew Loan</button>
                                            <button class="btn client-btn" data-bs-toggle="modal" data-bs-target="#emergencyLoanModal">Emergency Loan</button>
                                            <button class="btn client-btn" data-bs-toggle="modal" data-bs-target="#loanHistoryModal">Loan History</button>
                                            <button class="btn client-btn" data-bs-toggle="modal" data-bs-target="#updateClientInfo">Update Personal Info</button>
                
                                            <!-- payment modal -->
                                            <div class="modal fade" id="paymentBtnModal" tabindex="-1" aria-hidden="true" aria-labelledby="paymentBtnModalLabel"></div>
                                            <div class="modal fade" id="loanHistoryModal" tabindex="-1" aria-hidden="true" aria-labelledby="loanHistoryModalLabel"></div>
                                            <div class="modal fade" id="renewLoanBtnModal" tabindex="-1" aria-hidden="true" aria-labelledby="renewLoanBtnModalLabel"></div>
                                            <div class="modal fade" id="emergencyLoanModal" tabindex="-1" aria-hidden="true" aria-labelledby="emergencyLoanModalLabel"></div>
                                        </div>
                                    </div>
                                    <div class="col-md-3">
                                        <div class="p-2">
                                            <h5 style="color: #00307d;">Payment History</h5>
                                        </div>
                                        <div class="table-container">
                                            <table class="table" id="paymentHistory">   
                                                <thead id="table-header">
                                                    <tr>
                                                        <th scope="col">Date</th>
                                                        <th scope="col">Amount</th>
                                                    </tr>
                                                </thead>
                                                <tbody id="paymentHistoryTable">
                                                </tbody>
                                            </table>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal -->
    <div class="modal fade" id="newClientModal" tabindex="-1" aria-labelledby="newClientModalLabel" aria-hidden="true">
        <div class="modal-dialog" id="newClientModalDialog">
            <div class="modal-content">
                <div class="modal-header" style="background-color: #00307d; color: white;">
                    <h5 class="modal-title">New Client Form</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <form id="newClientRegisterForm">
                        <div class="row mt-2">
                            <div class="col-sm-4">
                                <label class="form-label">First Name:</label>
                                <input type="name" class="form-control" id="borrowerFirstName">
                            </div>
                            <div class="col-sm-4">
                                <label class="form-label">Middle Name:</label>
                                <input type="name" class="form-control" id="borrowerMiddleName">
                            </div>
                            <div class="col-sm-4">
                                <label class="form-label">Last Name:</label>
                                <input type="name" class="form-control" id="borrowerLastName">
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-sm-12">
                                <label class="form-label">Spouse Name:</label>
                                <input type="name" class="form-control" id="spouseName">
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-sm-4">
                                <label class="form-label">Birth Date:</label>
                                <input type="date" class="form-control" id="borrowerBirthDate">
                            </div>
                            <div class="col-sm-4">
                                <label class="form-label">Email:</label>
                                <input type="email" class="form-control" id="borrowerEmail">
                            </div>
                            <div class="col-sm-4">
                                <label class="form-label">Mobile:</label>
                                <input type="text" class="form-control" id="borrowerMobileNumber" placeholder="+639">
                            </div>
                        </div>
                        <div class="row mt-2 px-2">
                            <label class="form-label">Street Address:</label>
                            <input type="text" class="form-control" id="borrowerAddress">
                        </div>
                        <div class="row mt-2">
                            <div class="col-sm-4">
                                <label class="form-label">Barangay:</label>
                                <select class="form-select" id="borrowerBarangay">
                                    <option selected>Choose...</option>
                                    <option value="1">One</option>
                                    <option value="2">Two</option>
                                    <option value="3">Three</option>
                                </select>
                            </div>
                            <div class="col-sm-4">
                                <label class="form-label">Municipality:</label>
                                <select class="form-select" id="borrowerMunicipality">
                                    <option selected>Choose...</option>
                                    <option value="1">One</option>
                                    <option value="2">Two</option>
                                    <option value="3">Three</option>
                                </select>
                            </div>
                            <div class="col-sm-4">
                                <label class="form-label">Area:</label>
                                <input type="text" class="form-control" id="borrowerArea">
                            </div>
                        </div>
                        <div class="row mt-2">
                            <div class="col-sm-4">
                                <label class="form-label">Loan Type:</label>
                                <select class="form-select" id="borrowerLoanType">
                                    <option selected>Choose...</option>
                                    <option value="Regular Loan">New - Regular Loan</option>
                                    <option value="Emergency Loan">Emergency Loan</option>
                                </select>
                            </div>
                            <div class="col-sm-4">
                                <label class="form-label">Loan Amount:</label>
                                <input type="number" class="form-control" id="borrowerLoanAmount">
                            </div>
                            <div class="col-sm-4">
                                <label class="form-label">Total Payable:</label>
                                <input type="number" class="form-control" id="borrowerTotalPayable">
                            </div>
                        </div>
                        <div class="row mt-2"> 
                            <div class="col-sm-4">
                                <label class="form-label">Loan Date:</label>
                                <input type="date" class="form-control" id="borrowerLoanDate">
                            </div>
                            <div class="col-sm-4">
                                <label class="form-label">Loan Due Date:</label>
                                <input type="date" class="form-control" id="borrowerLoanDueDate">
                            </div>
                            <div class="col-sm-4">
                                <label class="form-label">Loan Term:</label>
                                <select class="form-select" id="borrowerLoanTerm">
                                    <option selected>Choose...</option>
                                    <option value="30">30 Days</option>
                                    <option value="60">60 Days</option>
                                </select>
                            </div>
                        </div>
                        <div class="row mt-2 px-2">
                            <div class="col-sm-6">
                                <label for="newClientPicture" class="form-label">Client Picture:</label>
                                <input class="form-control" type="file" id="newClientPicture">
                            </div>
                            <div class="col-sm-6">
                                <label for="newClientDocs" class="form-label">Client ID's:</label>
                                <input class="form-control" type="file" id="newClientDocs">
                            </div>
                        </div>
                    </form>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="button" class="btn modalBtn" id="newCLientConfirmBtn" onclick="addForApprovalClient()">Apply for Loan</button>
                </div>
            </div>
        </div>
    </div>
    <script src="../scriptsJS/clientPortal.js"></script>
    <script src="../scriptsJS/clientProfile.js"></script>
    <script src="../scriptsJS/updatePayment.js"></script>
    <script src="../bootstrap/js/bootstrap.bundle.min.js"></script>
</body>
</html>
